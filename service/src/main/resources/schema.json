{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Catalog Schema V1",
  "type": "object",
  "required": [
    "dct:title",
    "dct:description",
    "dct:creator",
    "dct:issued",
    "TerraDCAT_ap:hasDataCollection",
    "dcat:accessURL",
    "prov:wasGeneratedBy",
    "storage",
    "counts",
    "contributors"
  ],
  "properties": {
    "TerraCore:id": {
      "type": "string",
      "description": "A generated identifier provided by the data catalog"
    },
    "dct:title": {
      "type": "string",
      "description": "A user provided title for the dataset"
    },
    "dct:description": {
      "type": "string",
      "description": "A user provided description for the dataset"
    },
    "dct:creator": {
      "type": "string",
    },
    "dct:issued": {
      "type": "date-time",
      "description": "The date and time the dataset was created."
    },
    "dct:modified": {
      "type": "date-time",
      "description": "The date and time the dataset was last modified"
    },
    "dcat:accessURL": {
      "type": "string",
      "description": "A URL to the dataset in the underlying storage system"
    },
    "TerraDCAT_ap:hasDataUsePermission": {
      "description": "Full List taken from https://www.ebi.ac.uk/ols/ontologies/duo/terms?iri=http://purl.obolibrary.org/obo/DUO_0000001",
      "enum": [
        "TerraCore:NoRestriction",
        "TerraCore:GeneralResearchUse",
        "TerraCore:NPOA",
        "TerraCore:NMDS",
        "TerraCore:GSO",
        "TerraCore:CC",
        "TerraCore:PUB",
        "TerraCore:COL",
        "TerraCore:IRB",
        "TerraCore:GS",
        "TerraCore:MOR",
        "TerraCore:RT",
        "TerraCore:NCU",
        "TerraCore:NPU",
        "TerraCore:NPC",
        "TerraCore:NPC2",
        "TerraCore:IS",
        "TerraCore:PS",
        "TerraCore:RS",
        "TerraCore:RTN",
        "TerraCore:TS",
        "TerraCore:US",
        "TerraCore:DS",
        "TerraCore:POA"
      ]
    },
    "TerraDCAT_ap:hasOriginalPublication": {
      "type": "array",
      "items": {
        "$ref": "/schemas/publication"
      }
    },
    "TerraDCAT_ap:hasDataCollection": {
      "type": "array",
      "items": {
        "$ref": "/schemas/dataCollection"
      }
    },
    "TerraDCAT_ap:hasOwner": {
      "type": "string",
    },
    "TerraDCAT_ap:hasCustodian": {
      "type": "string",
    },
    "TerraDCAT_ap:hasConsentGroup": {
      "type": "string",
      "description": "A reference to the consent group for datasets not yet using the Data Use Ontology; data use permission and data use modifier supersede this value if they are present."
    },
    "prov:wasAssociatedWith": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "prov:wasGeneratedBy": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "storage": {
      "type": "array",
      "items": {
        "$ref": "/schemas/storageObject"
      }
    },
    "counts": {
      "type": "object",
      "$ref": "/schemas/counts"
    },
    "files": {
      "type": "array",
      "items": {
        "$ref": "/schemas/files"
      }
    },
    "samples": {
      "type": "object"
    },
    "contributors": {
      "type": "array",
      "items": {
        "$ref": "/schemas/contributor"
      }
    }
  },
  "$defs": {
    "publication": {
      "$id": "/schemas/publication",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "dct:title": {
          "type": "string",
          "description": "The name of the publication"
        },
        "dcat:accessURL": {
          "type": "string",
          "description": "The URL to access the publication"
        }
      }
    },
    "dataCollection": {
      "$id": "/schemas/dataCollection",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "dct:identifier": {
          "type": "string",
          "description": "The identifier for the data collection"
        },
        "dct:title": {
          "type": "string",
          "description": "The name of the data collection"
        },
        "dct:description": {
          "type": "string",
          "description": "A description of the data collection"
        },
        "dct:creator": {
          "type": "object",
          "$ref": "/schemas/agent"
        },
        "dct:publisher": {
          "type": "string",
          "description": "The name of the publisher"
        },
        "dct:issued": {
          "type": "date-time",
          "description": "The date and time the publisher was created."
        },
        "dct:modified": {
          "type": "date-time",
          "description": "The date and time the publisher was last modified"
        }
      }
    },
    "storageObject": {
      "$id": "/schemas/storageObject",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "region": {
          "enum": [
            "southamerica-west1",
            "us-central1",
            "us-east1",
            "us-east4",
            "us-west1",
            "us-west4",
            "europe-north1",
            "europe-west1",
            "europe-west4",
            "asia-east1",
            "asia-southeast1"
          ]
        },
        "cloudResource": {
          "enum": [
            "bigquery",
            "firestore",
            "bucket"
          ]
        },
        "cloudPlatform": {
          "enum": [
            "gcp"
          ]
        }
      }
    },
    "counts": {
      "$id": "/schemas/counts",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "donors": {
          "type": "integer"
        },
        "samples": {
          "type": "integer"
        },
        "files": {
          "type": "integer"
        }
      }
    },
    "files": {
      "$id": "/schemas/files",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "dcat:mediaType": {
          "type": "string"
        },
        "dcat:byteSize": {
          "type": "integer"
        },
        "count": {
          "type": "integer"
        }
      }
    },
    "contributor": {
      "$id": "/schemas/contributor",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "institution": {
          "type": "string"
        },
        "contactName": {
          "type": "string"
        },
        "projectRole": {
          "type": "string"
        },
        "laboratory": {
          "type": "string"
        },
        "correspondingContributor": {
          "type": "string"
        },
        "email": {
          "type": "string",
          "pattern": "^\\S+@\\S+$"
        }
      }
    }
  }
}